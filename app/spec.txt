Menu et routes :
Actualités                              actualites
Informations                            informations
Demande de visite                       visite
Gestion du groupe
    Listes de membres                   admin/utilisateurs?village=1&groupe=1
    Planning                            admin/planning
    Répartition des rôles               admin/repartition-roles
    Actualités                          admin/actualites?village=1&groupe=1
    Informations                        admin/informations?village=1&groupe=1
    Visites                             admin/visites?village=1&groupe=1
Gestion du village
    Listes de membres                   admin/utilisateurs?village=1
    Groupes                             admin/groupes?village=1
    Planning                            admin/planning
    Répartition des rôles               admin/repartition-roles
    Actualités                          admin/actualites?village=1
    Informations                        admin/informations?village=1
    Visites                             admin/visites?village=1
Gestion de la Cinéscénie
    Listes de membres                   admin/utilisateurs
    Villages                            admin/villages
    Actualités                          admin/actualites
    Informations                        admin/informations
    Visites                             admin/visites
Parametrage
    Général                             admin/parametrage/general
    Autorisations                       admin/parametrage/autorisations
    Catégorie de rôles                  admin/parametrage/categorie-roles
    Rôles                               admin/parametrage/roles
    Compétences                         admin/parametrage/competences
    Rôles par compétence                admin/parametrage/roles-par-competence
Mon compte
    Informations personnelles           informations-personnelles
    Planning                            planning
    Se déconnecter                      logout

Liste des membres d'un groupe
-> Prénom / Nom / Cinéscénie

Liste des membres d'un village
-> Groupe / Prénom / Nom / Cinéscénie

Liste des membres de la Cinéscénie
-> Village / Groupe / Prénom / Nom / Cinéscénie

admin/utilisateurs/{utilisateur}
admin/utilisateurs/{utilisateur}/informations-personnelles
admin/utilisateurs/{utilisateur}/competences
admin/utilisateurs/{utilisateur}/planning

Pour un utilisateur on connait son groupe et village, on peut donc vérifier les droits de celui qui veut modifier ses informations

admin/utilisateurs/planning
admin/utilisateurs/planning/{cinescenie}/editer-roles

REST :
Liste des livres

    NOK : http://mywebsite.com/book
    OK : http://mywebsite.com/books

Filtre et tri sur les livres

    NOK : http://mywebsite.com/books/filtre/policier/tri/asc
    OK : http://mywebsite.com/books?fitlre=policier&tri=asc

Affichage d’un livre

    NOK : http://mywebsite.com/book/display/87
    OK : http://mywebsite.com/books/87

Tous les commentaires sur un livre

    NOK : http://mywebsite.com/books/comments/87
    OK : http://mywebsite.com/books/87/comments

Affichage d’un commentaire sur un livre

    NOK : http://mywebsite.com/books/comments/87/1568
    OK : http://mywebsite.com/books/87/comments/1568

##

Créer un livre

    NOK : GET http://mywebsite.com/books/create
    OK : POST http://mywebsite.com/books

Afficher

    NOK : GET http://mywebsite.com/books/display/87
    OK : GET http://mywebsite.com/books/87

Mettre à jour

    NOK : POST http://mywebsite.com/books/editer/87
    OK : PUT http://mywebsite.com/books/87

Supprimer

    NOK : GET http://mywebsite.com/books/87/delete
    OK : DELETE http://mywebsite.com/books/87

----

Répartition des rôles :
- La répartition des rôles se fait sur toutes les dates de l'année (cases à cocher).
- Seules les dates futures apparaissent et seules les dates validées manuellement sont prises en compte dans la répartition. Si des dates passées ne sont pas validées alors un message d'avertissement est affiché pour indiqué à l'utilisateur qu'il vaudrait mieux d'abord faire toutes les validations sans quoi la répartition ne sera pas forcément cohérente avec les Cinéscénies passées.
- Pour valider une date il faut "enregistrer et valider" un planning passé en faisant bien attention que les données soient exactes. En cas d'erreur il faudra demander à l'administrateur de faire le changement. Les erreurs de validation auront un impact sur la cohérence de la répartition automatique des rôles.
- Les utilisateurs peuvent avoir une compétence principale. Grâce à cette compétence ils seront positionnés en priorité sur leur rôle pour le minimum requis des Cinéscénies de l'année (soit 15 Cinéscénies). Si pas de compétence principale alors pas de priorité sur un rôle particulier.
- La répartition des rôles s'effectue en plusieurs étapes :
    - Première tentative : Utilisateurs présents le jour demandé avec une compétence du rôle recherché. Trier par nombre de fois qu'il a fait ce rôle dans la saison du plus petit au plus grand. Puis trier par le nombre de séance dans la saison. L'utilisateur n'a pas fait la même catégorie de rôle la dernière fois.
    - Deuxième tentative : Utilisateurs présents le jour demandé avec une compétence du rôle recherché. Trier par nombre de fois qu'il a fait ce rôle dans la saison du plus petit au plus grand. Puis trier par le nombre de séance dans la saison.
    - Cas d'un rôle qui n'est pas trouvé : Essayer d'en trouver un dans les utilisateurs déjà positionné en faisant un échange. Sinon ne rien mettre et le signaler.
- S'il manque des personnes ? Dans ce cas un message d'avertissement sera affiché pour les responsables pour le week-end à venir. A eux de régulariser le planning.
- Ecrasement des plannings prévus manuellement ? Dans le cas ou une répartition est lancé mais qu'il y a déjà des plannings prévus (soit manuellement, soit de façon automatique via une précédente génération de répartition des rôles), alors un message d'avertissement sera affiché juste avant la répartition. De plus un code couleur pourrait indiquer les dates avec des plannings déjà prévus.

----

Tableau de bord :
- Affichage de tous les avertissements pour son groupe comme les utilisateurs qui ont moins de 15 séances dans la saison, les Cinéscénies avec des rôles sans personne (car manque de compétences), les Cinéscénies avec trop peu de personnes pour assurer tous les rôles, ...

----

Edition des rôles sur un planning :
- Au lieu de proposer la liste des utilisateurs puis de devoir choisir un rôle pour chacun alors il serait intéressant de proposer la liste des rôles avec une select box des personnes ayant les compétences adéquates.
- Dans ce cas par simplicité il faudrait faire juste un formulaire par rôle, de cette façon il est facile de savoir quel utilisateur est encore disponible, etc ...
- Mais que se passe t'il si personne n'a les compétences ou si nous voulons forcer quelqu'un d'autre n'ayent pas les compétences sur un rôle ? Prévoir une autre select box avec tous les autres choix de personnes possibles et disponibles dont "laissez passer" et "suppléant" (peut-être le cacher puis le faire apparaître par clique sur un bouton). Si le premier est vide alors le deuxième est pris en compte.

----

Utilisateurs :
- Pour changer ses informations personnelles :
    - Pour l'instant les données personnelles des utilisateurs sont mises à jour par l'administrateur de l'application via les informations founie par le secrétariat du PDF. Pour faire le moindre changement l'utilisateur devra en faire la demande auprès du secrétariat. Du point de vue des utilisateurs (membres ou responsables), les informations personnelles sont en lecture seule.
    - Toutes les informations personnelles dans un premier temps ne seront pas modifiables par les reponsables car ce sera la charge du secrétariat.
    - Par contre les reponsables pourront toujours faire un changement de mot de passe.
- Pour changer son mot de passe :
    - Soit l'utilisateur le fait lui même et dans ce cas il peut le faire via un formulaire dans ses informations personnelles.
    - Soit le responsable du groupe le fait via un formulaire isolé dédié à ça.
    Pour garantir la sécurité de l'application il n'y aura pas d'autres moyens pour le moment de changer le mot de passe (pas de lien mot de passe oublié avec envoi par email).
    - A la premiere connexion proposer à l'utilisateur de changer son mot de passe.
- Les autorisations et les rôles seront aussi paramétrés par l'administrateur pour éviter de faire n'importe quoi.
- Afficher un message d'avertissement sur le profil d'un utilisateur s'il ne fait pas ses 15 séances dans la saison.
- Statistiques sur le nombre de fois joué tel ou tel rôle dans la saison.

----

Questions :
- Que se passe t-il si le planning d'un utilisateur est modifié, qu'une date est enlevée par exemple et qu'il était prévu pour jouer un rôle à cette date ? Il possible de modifier le planning d'un utilisateur que sur les dates futures ou alors sur les dates passées mais avec la condition que l'utilisateur ne jouait aucun rôle à cette date. Dans le cas d'un changement dans le futur et que l'utilisateur devait jouer un rôle alors les messages d'avertissements indiqueront aux responsables que quelque chose ne va pas pour telle ou telle date.
- Que faire des anciennes données ? (Cinéscénies passées, utilisateurs plus présents, etc ...) La solution serait de tout garder mais de masquer ce qui est passé comme les Cinéscénies et d'avoir un statut spécial pour les utilisateurs plus présents (ou simplement utiliser le fait qu'un utilisateur soit actif ou non).

----

Général :
- Afficher et prendre en compte les dates des Cinéscénies de la saison en cours, dès le mois d'octobre de l'année en cours alors afficher et prendre en compte les dates des Cinéscénies de la saison suivante. Exemple : mois entre 1 et 9 alors 2017 (année en cours), mois entre 10 et 12 alors 2018 (année en cours +1).