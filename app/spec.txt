Menu et routes :
Actualités                              actualites
Informations                            informations
Demande de visite                       visite
Gestion du groupe
    Listes de membres                   admin/utilisateurs?village=1&groupe=1
    Planning                            admin/planning
    Répartition des rôles               admin/repartition-roles
    Actualités                          admin/actualites?village=1&groupe=1
    Informations                        admin/informations?village=1&groupe=1
    Visites                             admin/visites?village=1&groupe=1
Gestion du village
    Listes de membres                   admin/utilisateurs?village=1
    Groupes                             admin/groupes?village=1
    Planning                            admin/planning
    Répartition des rôles               admin/repartition-roles
    Actualités                          admin/actualites?village=1
    Informations                        admin/informations?village=1
    Visites                             admin/visites?village=1
Gestion de la Cinéscénie
    Listes de membres                   admin/utilisateurs
    Villages                            admin/villages
    Actualités                          admin/actualites
    Informations                        admin/informations
    Visites                             admin/visites
Parametrage
    Général                             admin/parametrage/general
    Autorisations                       admin/parametrage/autorisations
    Catégorie de rôles                  admin/parametrage/categorie-roles
    Rôles                               admin/parametrage/roles
    Compétences                         admin/parametrage/competences
    Rôles par compétence                admin/parametrage/roles-par-competence
Mon compte
    Informations personnelles           informations-personnelles
    Planning                            planning
    Se déconnecter                      logout

Liste des membres d'un groupe
-> Prénom / Nom / Cinéscénie

Liste des membres d'un village
-> Groupe / Prénom / Nom / Cinéscénie

Liste des membres de la Cinéscénie
-> Village / Groupe / Prénom / Nom / Cinéscénie

admin/utilisateurs/{utilisateur}
admin/utilisateurs/{utilisateur}/informations-personnelles
admin/utilisateurs/{utilisateur}/competences
admin/utilisateurs/{utilisateur}/planning

Pour un utilisateur on connait son groupe et village, on peut donc vérifier les droits de celui qui veut modifier ses informations

admin/utilisateurs/planning
admin/utilisateurs/planning/{cinescenie}/editer-roles

REST :
Liste des livres

    NOK : http://mywebsite.com/book
    OK : http://mywebsite.com/books

Filtre et tri sur les livres

    NOK : http://mywebsite.com/books/filtre/policier/tri/asc
    OK : http://mywebsite.com/books?fitlre=policier&tri=asc

Affichage d’un livre

    NOK : http://mywebsite.com/book/display/87
    OK : http://mywebsite.com/books/87

Tous les commentaires sur un livre

    NOK : http://mywebsite.com/books/comments/87
    OK : http://mywebsite.com/books/87/comments

Affichage d’un commentaire sur un livre

    NOK : http://mywebsite.com/books/comments/87/1568
    OK : http://mywebsite.com/books/87/comments/1568

##

Créer un livre

    NOK : GET http://mywebsite.com/books/create
    OK : POST http://mywebsite.com/books

Afficher

    NOK : GET http://mywebsite.com/books/display/87
    OK : GET http://mywebsite.com/books/87

Mettre à jour

    NOK : POST http://mywebsite.com/books/editer/87
    OK : PUT http://mywebsite.com/books/87

Supprimer

    NOK : GET http://mywebsite.com/books/87/delete
    OK : DELETE http://mywebsite.com/books/87

----

Répartition des rôles :
- OK : La répartition des rôles se fait sur toutes les dates de l'année dans le futur (les dates passées par rapport à la date de référence ne sont pas traitées).
- OK : Seules les dates futures apparaissent.
- OK : Il n'y a pas de validation de planning à faire. Par contre à charge des utilisateurs de ne pas modifier à tout bout de champ les plannings passés au risque de fausser les répartitions.
- OK : Les utilisateurs peuvent avoir une compétence principale. Grâce à cette compétence ils seront positionnés en priorité sur leur rôle pour le minimum requis des Cinéscénies de l'année (soit 15 Cinéscénies). Si pas de compétence principale alors pas de priorité sur un rôle particulier.
- OK : La répartition des rôles s'effectue en plusieurs étapes :
    // Choix d'un rôle
    // T1 - Tentative 1
        /*
        Utilisateur avec la compétence demandée
        Utilisateur avec comme compétence principale la compétence demandée et le quota non atteint
        Utilisateur dont le dernier rôle fait n'est pas celui demandé
        */
    // T2 - Tentative 2
        /*
        Utilisateur avec la compétence demandée
        Utilisateur avec comme compétence principale la compétence demandée et le quota non atteint
        */
    // T3 - Tentative 3
        /*
        Utilisateur avec la compétence demandée
        Utilisateur dont le dernier rôle fait n'est pas celui demandé
        */
    // T4 - Tentative 4
        /*
        Utilisateur avec la compétence demandée
        */
    // Priotité dans le choix
        /*
        Nombre de fois que le rôle à été fait (le plus petit en priorité)
        Nombre de rôle déjà joué dans la saison
        /!\ Nombre de présence dans l'année (le plus petit en priorité) /!\ Pas effectué car techniquement difficile, la personne devrait être là plus souvent
        */
    // Cas d'un rôle qui n'est pas trouvé : A charge des utilisateurs de trouver une solution. Un indicateur permet de savoir qu'elles sont les Cinéscénies où tous les rôles sont trouvés ou non.

----

Tableau de bord :
- OK : Affichage de tous les avertissements comme les utilisateurs qui ont moins de 15 séances dans la saison, les Cinéscénies avec des rôles sans personne, ...

----

Edition des rôles sur un planning :
- OK : Au lieu de proposer la liste des utilisateurs puis de devoir choisir un rôle pour chacun alors il serait intéressant de proposer la liste des rôles avec une select box des personnes ayant les compétences adéquates.
- OK : Dans ce cas par simplicité il faudrait faire juste un formulaire par rôle, de cette façon il est facile de savoir quel utilisateur est encore disponible, etc ...
- OK : Mais que se passe t'il si personne n'a les compétences ou si nous voulons forcer quelqu'un d'autre n'ayent pas les compétences sur un rôle ? La solution est d'affecter la compétence demandée temporairement pour mettre la personne puis lui enlever une fois le planning fait.
- OK : Prévoir un choix laissez passer dans la liste des personnes disponibles.
- OK : Afficher la liste des personnes qui ne sont pas affectées sur un rôle.

----

Utilisateurs :
- OK : Pour l'instant les données personnelles des utilisateurs sont mises à jour par l'administrateur de l'application, elles sont en lecture seule.
- OK : Les autorisations et les rôles seront aussi paramétrées par l'administrateur.
- OK : Afficher un message d'avertissement sur le profil d'un utilisateur s'il ne fait pas ses 15 séances dans la saison.
- OK : Statistiques sur le nombre de fois joué tel ou tel rôle dans la saison.

----

Questions :
- OK : Que se passe t-il si le planning d'un utilisateur est modifié, qu'une date est enlevée par exemple et qu'il était prévu pour jouer un rôle à cette date ? Il n'y a pas de restrictions pour ce genre de modification mais c'est à la responsabilité de l'utilisateur si la répartition est ensuite faussée.
- OK : Que faire des anciennes données ? (Cinéscénies passées, utilisateurs plus présents, etc ...) La solution serait de tout garder mais de masquer ce qui est passé comme les Cinéscénies et d'avoir un statut spécial pour les utilisateurs plus présents (ou simplement utiliser le fait qu'un utilisateur soit actif ou non). Et donc aussi ne prendre en compte que les Cinéscénies de l'année en cours pour les futurs répartitions de plannings.
- OK : permettre la suppression fonctionnelle d'un utilisateur (désactivation métier) afin qu'il ne soit plus pris en compte dans les requêtes et plus visibles sur les écrans.

----

Général :
- OK : Afficher et prendre en compte les dates des Cinéscénies de la saison en cours, dès le mois d'octobre de l'année en cours alors afficher et prendre en compte les dates des Cinéscénies de la saison suivante. Exemple : mois entre 1 et 9 alors 2017 (année en cours), mois entre 10 et 12 alors 2018 (année en cours +1).

----

- OK : Contrôler que sur plusieurs répartition en même temps alors ça prend bien en compte les répartitions précédentes (à la deuxième prend en compte la première par exemple).

----

- OK : Ajouter une table "member" afin de diférencier les utilisateurs du site et les membres du groupe Neopter
- OK : Ajouter la notion de spécialisation afin de pourvoir définir des rôles secondaires et transversales par rapport aux catégories et aux rôles.

Pour choisir un spécialiste il faut :
- Choisir un membre spécialiste qui n'a pas fait ce rôle la dernière fois et qui l'a peu fait
    -> Si pas trouvé alors essayer avec un membre qui l'a déjà fait la dernière fois et qui l'a peu fait
- Trouver un rôle que le membre n'a pas fait la dernière fois et dont il a les compétences (on admettra que ces personnes peuvent faire plusieurs autres rôles puisque ce sont des spécialistes ... donc pas de vérification si un rôle est trouvé car il y en aura forcément de disponibles).
- Garder en tête que ce rôle et ce membre sont occupés pour la suite de la répartition

----

Remarques :
- OK : Le fait de choisir un rôle en fonction de ceux le moins fait est bien mais cette technique n'est pas optimisée car il existe plein de rôle similaire ce qui empêche la diversification de l'enchainement des rôles donc il faudrait choisir dans un premier temps le groupe de rôle le moins fait puis à l'intérieur le rôle le moins fait ?! C'est sans doute vrai pour la partie spécialité car nous partons d'un groupe d'activité et nous en choississons une pour un seul membre sans prendre en compte le groupe de rôle déjà effectué. Et pour la partie de la répartition classique nous partons d'un rôle et nous regardons qui le membre qui l'a moins fait, c'est l'inverse. A VERIFIER avec plein de membres. Après vérification il se trouve que la répartition fonctionne plutôt bien sur l'année mais effectivement ça ne tourne pas assez sur peu de dates. Et par exemple les membres feront plus souvent neopter car il y a plus de rôle. Il serait bien d'ajouter une optimisation sur le nombre de fois qu'un membre à fait le groupe de rôle.
- OK : Corrigé / BUG : Il n'est pas possible d'enlever la compétence principale d'un membre
- OK : Cas non géré : si un membre à une spécialité et qu'il est enlevé de ce rôle alors sa spécialité n'est pas supprimée. Il n'est pas non plus possible de l'attribuer à quelqu'un d'autre. La solution serait de mettre une partie spécialité sous l'édition des rôles et de pouvoir choisir une personne comme pour chaque rôle. Il faudrait également mettre en place des systèmes d'alerte quand il n'y a personne pour faire la spécialité (y compris dans le tableau de bord).
- OK : Le mode compétence principale semble prendre trop le dessus par rapport au reste. A TESTER. Le quota s'applique désormais au groupe de rôle et non plus au rôle.

----

Equilibrage :
- Un déséquilibre apparaît car l'algo essaye de faire jouer tout le monde autant de fois sur tout les rôles sauf que certains ont plus de comptences que d'autres donc ils jouent sur plus de rôles différents. Une piste d'optimisation serait de trier à un moment donné les membres par le nombre activité global effectué.

----

// Choix d'un rôle
    // T1
    /*
        Membres avec la compétence demandée
        Membre avec comme compétence principale la compétence demandée et le quota non atteint
        Membres présents et qui ne sont pas déjà sélectionnés
        Membre dont le dernier rôle fait n'est pas celui demandé / Si pas de membres alors ce critère est ignoré
        Membres dont le ratio entre le nombre de séances où ils sont présents et le nombre de séances jouées est le plus petit
        Membres dont le nombre de fois fait le groupe de rôle est le plus petit
        Membres dont le nombre de fois fait le rôle est le plus petit
    */
    // T2
    /*
        Membres avec la compétence demandée
        Membres présents et qui ne sont pas déjà sélectionnés
        Membre dont le dernier rôle fait n'est pas celui demandé / Si pas de membres alors ce critère est ignoré
        Membres dont le ratio entre le nombre de séances où ils sont présents et le nombre de séances jouées est le plus petit
        Membres dont le nombre de fois fait le groupe de rôle est le plus petit
        Membres dont le nombre de fois fait le rôle est le plus petit
    */